<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Progress – I AM: Becoming</title>
  <link rel="stylesheet" href="styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Montserrat:wght@400;700&display=swap" rel="stylesheet" />
</head>
<body>
  <header>
    <div class="logo">
      <img src="images/logo.png" alt="I AM: Becoming Logo">
      <h1>I AM: <span>Becoming</span></h1>
    </div>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="journal.html">Journal</a></li>
        <li><a href="progress.html" class="active">Progress</a></li>
      </ul>
    </nav>
  </header>

  <main class="progress-page">
    <section class="stats">
      <h2>Your Journey Progress</h2>
      <div class="progress-metrics">
        <div class="metric-box">
          <h3>Total Journal Entries</h3>
          <p id="total-entries">0</p>
        </div>
        <div class="metric-box">
          <h3>Most Recent Entry</h3>
          <p id="last-entry">--</p>
        </div>
        <div class="metric-box">
          <h3>Affirmation of the Week</h3>
          <blockquote id="affirmation">“I am the author of my becoming.”</blockquote>
        </div>
      </div>
    </section>

    <section class="calendar">
      <h2>Activity Calendar</h2>
      <div id="calendar-grid" class="calendar-grid">
        <!-- JavaScript will populate this -->
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; <span id="year"></span> I AM: Becoming. All rights reserved.</p>
  </footer>

  <script>
    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Load journal entries
    const entries = JSON.parse(localStorage.getItem("journalEntries") || "[]");
    const totalEntries = entries.length;
    document.getElementById("total-entries").textContent = totalEntries;

    if (entries.length > 0) {
      const latest = entries[entries.length - 1];
      document.getElementById("last-entry").textContent = latest.date;
    }

    // Random affirmations
    const affirmations = [
      "I am becoming all I was designed to be.",
      "My inner world creates my outer world.",
      "Each thought is a seed of power.",
      "I am in control of my mind and emotions.",
      "My calm is my strength."
    ];
    const randomAff = affirmations[Math.floor(Math.random() * affirmations.length)];
    document.getElementById("affirmation").textContent = `“${randomAff}”`;

    // Simple calendar visual
    const calendar = document.getElementById("calendar-grid");
    const dates = {};
    entries.forEach(e => {
      const d = new Date(e.date).toDateString();
      dates[d] = (dates[d] || 0) + 1;
    });

    const today = new Date();
    for (let i = 29; i >= 0; i--) {
      const date = new Date(today);
      date.setDate(today.getDate() - i);
      const dStr = date.toDateString();
      const count = dates[dStr] || 0;
      const box = document.createElement("div");
      box.className = "calendar-day";
      box.title = dStr;
      box.style.background = count > 0 ? `rgba(108, 99, 255, ${Math.min(count, 4) / 4})` : "#eee";
      box.textContent = date.getDate();
      calendar.appendChild(box);
    }
  </script>

  <style>
    
  </style>
</body>
</html>
